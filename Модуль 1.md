<img
src="%D0%9C%D0%BE%D0%B4%D1%83%D0%BB%D1%8C%201-media/1ebb83c813e897a9039591e250a7dac52aeb3bfe.png"
class="wikilink" alt="150" />
*Авторы: Шалаков Тимофей 9САД-3.22, Егоров Артём 9САД-2.22*
\# Разбор демонстрационного экзамена 2025 года по специальности 09.02.06 "Сетевое и системное администрирование" на ОС Debian 13

## Модуль 1

### Создание топологии в Pnetlab

<img
src="%D0%9C%D0%BE%D0%B4%D1%83%D0%BB%D1%8C%201-media/5c20dcbcfbab07ab6c2df7e27444d5ac2afca569.png"
class="wikilink" alt="1.png" />
\> *[Подписи и прочие графические элементы добавлены для лучшего понимания, их у себя на схеме их добавлять не обязательно]{style="color:rgb(120, 120, 120)"}*

- **Net**: Cloud_nat
- **ISP**: 1 CPU, 1024 RAM, 3 Ethernet
- [HQ]{style="font-weight:bold; color:rgb(146, 208, 80)"}-RTR: 1 CPU, 1024 RAM, 4 Ethernet
- [BR]{style="font-weight:bold; color:rgb(218, 115, 232)"}-RTR: 1 CPU, 1024 RAM, 2 Ethernet
- [HQ]{style="font-weight:bold; color:rgb(146, 208, 80)"}-SRV: 1 CPU, 1024 RAM, 1 Ethernet
- [HQ]{style="font-weight:bold; color:rgb(146, 208, 80)"}-CLI: 1 CPU, 1024 RAM, 1 Ethernet
- [BR]{style="font-weight:bold; color:rgb(218, 115, 232)"}-SRV: 1 CPU, 1024 RAM, 1 Ethernet

> Все устройства на базе Linux Debian 13.

#### [ОЧЕНЬ ВАЖНО ПЕРЕД ВЫПОЛНЕНИЕМ ЗАДАНИЙ!]{style="color:rgb(255, 0, 0)"}

В Debian 13 требуется закомментировать cdrom-репозиторий [на всех устройствах]{style="color:rgb(255, 0, 0)"} для корректной установки `apt` пакетов!!!

Для этого требуется открыть файл `/etc/apt/sources.list` через текстовый редактор `nano`

`nano /etc/apt/sources.list`
<img
src="%D0%9C%D0%BE%D0%B4%D1%83%D0%BB%D1%8C%201-media/a3e9b924b0c79cb7169afa563a255fa0a5b1cadd.png"
class="wikilink" alt="6.png" />
Ставим символ [\#]{style="font-weight:bold; color:rgb(107, 99, 217)"} в начале первой строчки
<img
src="%D0%9C%D0%BE%D0%B4%D1%83%D0%BB%D1%8C%201-media/cae856732bd4226855875d839121e46dd85999a9.png"
class="wikilink" alt="7.png" />
Выходим: `Ctrl+X, y, Enter`.
\## Задание 1
**Произведите базовую настройку устройств**

- Настройте имена устройств согласно топологии. Используйте полное доменное имя

- На всех устройствах необходимо сконфигурировать IPv4

- IP-адрес должен быть из приватного диапазона, в случае, если сеть локальная, согласно [RFC1918](https://dzen.ru/away?to=https%3A%2F%2Fdatatracker.ietf.org%2Fdoc%2Fhtml%2Frfc1918)

- Локальная сеть в сторону HQ-SRV(VLAN100) должна вмещать не более 64 адресов

- Локальная сеть в сторону HQ-CLI(VLAN200) должна вмещать не более 16 адресов

- Локальная сеть в сторону BR-SRV должна вмещать не более 32 адресов

- Локальная сеть для управления(VLAN999) должна вмещать не более 8 адресов

- Сведения об адресах занесите в отчёт, в качестве примера используйте Таблицу 3

#### Решение:

###### Настройка имен устройств производится командой

`hostnamectl set-hostname <полное доменное имя>; exec bash`

> *exec bash - перезапуск терминала*

**На ISP:**
`hostnamectl set-hostname isp.kkrit.demo; exec bash`
**На [HQ]{style="color:rgb(146, 208, 80)"}-RTR:**
`hostnamectl set-hostname hq-rtr.kkrit.demo; exec bash`
**На [BR]{style="color:rgb(218, 115, 232)"}-RTR:**
`hostnamectl set-hostname br-rtr.kkrit.demo; exec bash`
**На [HQ]{style="color:rgb(146, 208, 80)"}-SRV:**
`hostnamectl set-hostname hq-srv.kkrit.demo; exec bash`
**На [HQ]{style="color:rgb(146, 208, 80)"}-CLI:
`hostnamectl set-hostname hq-cli.kkrit.demo; exec bash`
На [BR]{style="color:rgb(218, 115, 232)"}-SRV:**
`hostnamectl set-hostname br-srv.kkrit.demo; exec bash`

###### Сконфигурируем сеть IPv4, для этого рассчитаем IP-адресацию.

Для офиса [HQ]{style="color:rgb(146, 208, 80)"} выделим сеть 192.168.100.0/24
Для офиса [BR]{style="color:rgb(218, 115, 232)"} выделим сеть 192.168.200.0/24.
Сеть офиса [HQ]{style="color:rgb(146, 208, 80)"} необходимо разделить на подсети для каждого VLAN.
Сеть между [HQ]{style="color:rgb(146, 208, 80)"}-RTR и [HQ]{style="color:rgb(146, 208, 80)"}-SRV--[VLAN100]{style="color:rgb(255, 192, 0)"} не более 64 адресов
Сеть между [HQ]{style="color:rgb(146, 208, 80)"}-RTR и [HQ]{style="color:rgb(146, 208, 80)"}-CLI--[VLAN200]{style="color:rgb(255, 192, 0)"} не более 16 адресов
Локальная сеть управления [Management]{style="color:rgb(255, 0, 0)"}--[VLAN999]{style="color:rgb(255, 192, 0)"} не более 8 адресов
Рассчитаем подсети для каждого VLAN офиса [HQ]{style="color:rgb(146, 208, 80)"} и адресацию локальной
сети офиса [BR]{style="color:rgb(218, 115, 232)"}

> *RFC1918 обозначил диапазоны IP-адресов, которые невозможно*
> *маршрутизировать в Интернете (короче, это локальные IP-адреса):*
> *10.0.0.0 --- 10.255.255.255 (10/8 префикс);*
> *172.16.0.0 --- 172.31.255.255 (172.16/12 префикс);*
> *192.168.0.0 --- 192.168.255.255 (192.168/16 префикс).*

Получаем примерно следующую таблицу разделения сетей на подсети:

<figure>
<img
src="%D0%9C%D0%BE%D0%B4%D1%83%D0%BB%D1%8C%201-media/278cadb5c5a600fd354bbb4a32acf34407bf98f0.png"
class="wikilink" alt="2.png" />
<figcaption aria-hidden="true">2.png</figcaption>
</figure>

Таблица адресации устройств:

<img
src="%D0%9C%D0%BE%D0%B4%D1%83%D0%BB%D1%8C%201-media/bd473197c461193ea9b6d317f4c236910d065887.png"
class="wikilink" alt="3.png" />
Как мы видим, ISP, [HQ]{style="color:rgb(146, 208, 80)"}-RTR и [BR]{style="color:rgb(218, 115, 232)"}-RTR используют сетевую часть 172.16.x.x с маской подсети 28.
Данная сетевая часть будет использоваться для соединения между ISP и [HQ]{style="color:rgb(146, 208, 80)"}-RTR, а также между ISP и [BR]{style="color:rgb(218, 115, 232)"}-RTR.
Все что далее, использует сетевую часть 192.168.x.x
Проведем базовую настройку сети через конфигурационный файл `/etc/network/interfaces` на всех устройствах.
